<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Be My Valentine</title>
<style>
    body {
        margin: 0;
        background: radial-gradient(circle at top, #1a001f, #000);
        overflow: hidden;
        font-family: 'Segoe UI', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        color: white;
    }

    canvas {
        position: absolute;
    }

    .message {
        position: absolute;
        text-align: center;
        opacity: 0;
        transform: scale(0.8);
        transition: opacity 2s ease, transform 2s ease;
    }

    .message.show {
        opacity: 1;
        transform: scale(1);
    }

    h1 {
        font-size: 3em;
        margin: 0;
        color: #ff4da6;
        text-shadow: 0 0 20px #ff4da6;
    }

    p {
        font-size: 1.3em;
        margin-top: 10px;
        color: #ffd6f0;
    }
    #startScreen {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at top, #1a001f, #000);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
}

#startBtn {
    font-size: 1.5em;
    padding: 15px 30px;
    border-radius: 40px;
    border: none;
    background: #ff4da6;
    color: white;
    box-shadow: 0 0 20px #ff4da6;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#startBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 30px #ff4da6;
}
.photo {
    position: absolute;
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(255, 77, 166, 0.6);
    opacity: 0;
    transform: scale(0.5) rotate(0deg);
    transition: opacity 2s ease, transform 6s ease;
    pointer-events: none;
}


</style>
</head>
<body>

<div id="startScreen">
    <button id="startBtn"> Click Me! </button>
</div>

<canvas id="heartCanvas"></canvas>

<div class="message" id="message">
    <h1>Happy Valentineâ€™s Day Isabelle!</h1>
    <p>I Love You!! </p>
</div>

<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>


<script>
const canvas = document.getElementById('heartCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let t = 0;
let drawingComplete = false;

function heartFunction(t) {
    const scale = 15;
    const x = scale * 16 * Math.pow(Math.sin(t), 3);
    const y = -scale * (
        13 * Math.cos(t) -
        5 * Math.cos(2 * t) -
        2 * Math.cos(3 * t) -
        Math.cos(4 * t)
    );
    return { x, y };
}

const startBtn = document.getElementById("startBtn");
const startScreen = document.getElementById("startScreen");
const music = document.getElementById("bgMusic");

startBtn.addEventListener("click", () => {
    music.volume = 0;
    music.play();
    let fade = setInterval(() => {
    if (music.volume < 0.9) {
        music.volume += 0.05;
    } else {
        clearInterval(fade);
    }
}, 200);
    startScreen.style.display = "none";
    drawHeart();
});

const photoFiles = [
    "photo1.jpg",
    "photo2.jpg",
    "photo3.jpg",
    "photo4.jpg",
    "photo5.jpg",
    "photo6.jpg",
    "photo7.jpg",
    "photo8.jpg",
    "photo9.jpg",
    "photo10.jpg",
    "photo11.jpg",
    "photo12.jpg",
    "photo13.jpg",
    "photo14.jpg",
    "photo15.jpg",
    "photo16.jpg",
    "photo17.jpg",
];
let photoUsage = {};
photoFiles.forEach(photo => photoUsage[photo] = 0);

let photosOnScreen = 0;
const maxPhotos = 35;

function startPhotoRain() {
    const interval = setInterval(() => {

        if (photosOnScreen >= maxPhotos) return;
        const availablePhotos = photoFiles.filter(p => photoUsage[p] < 2);
        if (availablePhotos.length === 0) {
            clearInterval(interval);
            return;
        }

        const chosenPhoto = availablePhotos[Math.floor(Math.random() * availablePhotos.length)];
        photoUsage[chosenPhoto]++;

        const img = document.createElement("img");
        img.src = chosenPhoto;
        img.className = "photo";

        img.style.left = Math.random() * window.innerWidth + "px";
        img.style.top = Math.random() * window.innerHeight + "px";

        const rotation = (Math.random() * 40) - 20;
        img.style.transform = `scale(0.5) rotate(${rotation}deg)`;

        document.body.appendChild(img);
        photosOnScreen++;

        setTimeout(() => {
            img.style.opacity = 1;
            img.style.transform = `scale(1) rotate(${rotation}deg)`;
        }, 100);

    }, 700);
}




function drawHeart() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.save();
    ctx.translate(canvas.width / 2, canvas.height / 2 - 50);

    ctx.beginPath();
    for (let i = 0; i < t; i += 0.02) {
        const pos = heartFunction(i);
        ctx.lineTo(pos.x, pos.y);
    }

    const gradient = ctx.createLinearGradient(-100, -100, 100, 100);
    gradient.addColorStop(0, "#ff9ecb");
    gradient.addColorStop(1, "#ff6fa5");

    ctx.strokeStyle = gradient;
    ctx.lineWidth = 6;
    ctx.lineCap = "round";
    ctx.lineJoin = "round";
    ctx.shadowBlur = 10;
    ctx.shadowColor = "rgba(255, 182, 193, 0.8)";

    ctx.stroke();

    if (t >= Math.PI * 2) {
        ctx.fillStyle = "rgba(255, 182, 193, 0.25)";
        ctx.fill();
        drawingComplete = true;
    }

    ctx.restore();

    if (!drawingComplete) {
        t += 0.03;
        requestAnimationFrame(drawHeart);
    } else {
        document.getElementById('message').classList.add('show');
        animateSparkles();
        setTimeout(startPhotoRain, 3000);
    }

}

function animateSparkles() {
    for (let i = 0; i < 50; i++) {
        createSparkle();
    }
}

function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.style.position = 'absolute';
    sparkle.style.width = '4px';
    sparkle.style.height = '4px';
    sparkle.style.background = '#fff';
    sparkle.style.borderRadius = '50%';
    sparkle.style.left = Math.random() * window.innerWidth + 'px';
    sparkle.style.top = Math.random() * window.innerHeight + 'px';
    sparkle.style.opacity = Math.random();
    sparkle.style.transition = 'transform 3s linear, opacity 3s';
    document.body.appendChild(sparkle);

    setTimeout(() => {
        sparkle.style.transform = 'translateY(-100px)';
        sparkle.style.opacity = 0;
    }, 50);

    setTimeout(() => {
        sparkle.remove();
        createSparkle();
    }, 3000);
}

</script>

</body>
</html>
